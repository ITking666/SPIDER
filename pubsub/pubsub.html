<html>

<head>
<title>SPIDER's Pubsub System for Distributed Processing</title>
</head>

<body>

<h2 align="center">SPIDER's Pubsub System for Distributed Processing</h2>

<p>
This page illustrates techniques for running 
<a href="../docs/spider.html">SPIDER</a> using the Pubsub system on a cluster.
</p>

<h3 align="left">Introduction </h3>
 
  
<p>
With Pubsub, SPIDER procedures can be run in parallel on a
distributed cluster of computers or within a single cluster. 
The user places his SPIDER jobs in a shared que.  Each of the subscriber
machines can receive jobs from the que.  Each subscriber machine
can specify when it will take jobs and how many jobs it can take at
a time.  If the machines vary greatly in processing power, it is best
to partition the SPIDER jobs so that they will take
a reasonable length of time (e.g. 20...100 minutes) so 
that the subscription process is most efficient.  I have provided
several master SPIDER procedures that handle the preparation of the
parallel SPIDER procedures.  
</p>

<hr></hr>

<h2 align="left">Running SPIDER jobs using Pubsub </h2>
<ol>

<p><li> Must have <a href="./pubsub_inst.html#install">installed</a> Pubsub 
     and <a href="./pubsub_inst.html#started">started</a> the subscriber process
     on the master PubSub machine as described elsewhere.
</li></p>

<p><li> You can run the SPIDER job on the master PubSub machine or any other
     machine which is capable of using 'ssh' without a password
     to connect to the master. The master PubSub machine and all of the compute 
     nodes must be able to
     access YOUR_SPIDER_WORKING_DIR using the same pathway.<br /><br /> 
     Access: YOUR_SPIDER_WORKING_DIR                       <br />
     e.g. <b> cd $HOME/spider/data                         </b> </li></p>

<p><li> Submit your SPIDER job to the publisher using
     <a href="publish.perl">publish</a>  e.g.                 <br />
     <b>publish "./spider pam/dat @pub_refine 17 iter=17"</b> <br />
</li></p>

<p><li> Instructions are available for use of PubSub in:
     <ul> 
     <li> <a href="../docs/techs/recon/apsh_pub.html">Alignment using 'AP SH'</a></li>
     <li> <a href="../docs/techs/recon/refine.html">Refining single particle reconstructions</a></li>
     <li> <a href="./bp3d_pub.html">3D Tomographic Back-Projection using 'BP 3D'</a></li>
     <li> <a href="./bpw2_pub.html">Single Tilt Tomographic Back-Projection using 'BP W2'</a></li>
     <li> <a href="../proc/sigs_pub.spi">Motif Searching within a Volume</a></li>
     </ul>
</li></p>

<p><li> To write SPIDER batches which run under PubSub see the above examples
        and info in: <a href="../docs/techs/parallel/parallel.html">parallel.html</a> 
</li></p>

</ol>

<hr>

<p> 
<small>
Source:       spider/pubsub/pubsub.html  &nbsp;&nbsp;&nbsp;  
Page updated: 10 Aug. 2010                &nbsp;&nbsp;&nbsp;
ArDean Leith  
</small> 
</p>

</body>
</html>
