<html>
<head>
<title>Array operations</title>
<link rel='stylesheet' href='style.css' type='text/css' />

</head>

<body bgcolor="#ffffff">

<h2>Array operations: converting Spider files to Numeric arrays</a></h2>
<p></p>
<a href="index.html">Back</a>
<p></p>

Numerical Python, or <a href="http://sourceforge.net/projects/numpy">NumPy</a>, 
offers an extension that permits operations on arrays of any dimension. Implemented in 
the C language, it is fast, with many scientific functions for array manipulation, 
support for FFT and linear algebraic operations. The Spider Python Library lets you 
convert SPIDER images and volumes to 2D and 3D arrays, respectively, as well as to 
create SPIDER files from Numeric arrays. The module Spiderarray.py provides access to 
this large collection of array operations. 
The <a href="http://docs.scipy.org/doc/numpy/user/index.html">NumPy User Guide</a>
<p></p>
<h3><a href="code/Spiderarray.html">Spider/Spiderarray.py</a></h3>
<p></p>

<dl>
<dt><font class='function'>spider2array</font> (<i>filename</i>)</dt>
<dd>
 Reads a SPIDER file, returns a Python Numeric array.<br>
 Images are converted to 2D arrays, volumes to 3D arrays.
</dd>

<p>
<dt><font class='function'>array2spider</font> (<i>arr, filename</i>)</dt>
<dd>
  Writes a Python Numeric array out to a file in SPIDER format.
</dd>
</p>

<p>
<dt>In addition, the following functions convert PIL Images <--> Numeric arrays</dt>
</p>

<p>
<dt><font class='function'>image2array</font> (<i>im</i>)</dt>
<dd>
  Takes a PIL image as input, returns a Numeric array.
</dd>
</p>

<p>
<dt><font class='function'>array2image</font> (<i>arr</i>)</dt>
<dd>
  Takes a 2D Numeric array as input, returns a PIL image.
</dd>
</p>

</dl>

<p></p><hr><p></p>
Example: Create a test image in Python Numeric, save it as a SPIDER image.
<pre>
import numpy
from Spider.Spiderarray import array2spider

size = 65

I = numpy.zeros((size,size))   # create a blank array

for j in range(size):
    for i in range(size):
        I[j][i] = i              # Array[row][column]

array2spider(I, 'tmp001.dat')
</pre>

</body>
</html>

