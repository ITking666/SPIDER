In the meantime, attached is my tarball.  To summarize the changes:
-- added procedures for frame alignment (included in SPIRE, but not
documented in HTML yet)
-- added procedures for CTFFIND4, which I prefer to CTFFIND3, although
lately we're using the GPU-enabled gctf
-- implemented apply-ctfcor-mic, and accounted for the changes elsewhere
in the workflow
-- In Refinement, I pulled the show-radii step out of the main procedure
as a separate validation step.
-- the References section in the HTML documentation was inconsistent,
and still is to some extent

There are a few steps that I parallelized using PBS with their own PBS
scripts, e.g., classifybyview, framealign, etc.  I didn't try to figure
yet out how to incorporate them into the master qsub.pbs.
General:
     -- Our cluster will kill your job if you use too many processors, so I removed SET MP 0 wherever I found it.  Also, the Madrid people don't like it.
     -- I'm slowly replacing the hyphenated variable names with lowercaseUpperCase variables, to placate my Madrid collaborator and make integration into Scipion easier.
     -- Rather than use qsub.pbs for all the operations I ran on the cluster, I wrote PBS scripts for some specific procedures.


diff -rw 160722/make-params.spi dev/make-params.spi
     I added an option for MRC format.
diff -rw 160722/resizevol.spi dev/resizevol.spi
     Uh oh, now that I look again, I use ref_vol and reference_vol inconsistently.
diff -rw 160722/test_recon1.spi dev/test_recon1.spi
     I didn't modify it myself, but somehow my version was different than yours.  I'll look into it.

Only in dev/Micrographs: rename.bash
     maybe only useful for the Nature Protocols update: a bash script to rename the micrographs.

Only in dev/Micrographs: settings-framealign.spi
     I have both a parallelized and serial version of frame-alignment, which share this settings file.

Only in dev/Micrographs: framealign.spi
     serial frame alignment

Only in dev/Micrographs: qsub-framealign.spi
     wrapper for parallel frame alignment


Only in dev/Micrographs: mlalign-qsub.sh
     calls subjobs of frame alignment

Only in dev/Micrographs: motioncorr.sh
     what I actually use: the GPU-enabled UCSF program is ~10X faster

Only in dev/Micrographs: labelmics.spi
     useful for screening

diff -rw 160722/Power_Spectra/ctffind.spi dev/Power_Spectra/ctffind.spi
     I added an option to save the SPIDER-format intermediate.
diff -rw 160722/Power_Spectra/load-mic.spi dev/Power_Spectra/load-mic.spi
     I added an option for MRC format.
Only in dev/Power_Spectra: master-ctffind4-qsub.sh
     wrapper for cluster CTFFIND4 procedure
Only in dev/Power_Spectra: ctffind4.spi
     runs CTFFIND4, which I prefer to CTFFIND3
Only in dev/Power_Spectra: readmrc.py
     modified the one we used to use
     The resolution estimate in CTFFIND4 (last column of readmrc output) empirically seems to be pretty accurate.
Only in dev/Power_Spectra: v4-ctffind.sh
     shell script for single-processor CTFFIND4
Only in dev/Power_Spectra: v4-ctffind-mp.sh
     shell script for multi-processor CTFFIND4
Only in dev/Power_Spectra: convert_p.spi
     XMIPP's image_convert seems to be the most robust conversion program, so I use it, realizing that external dependencies aren't ideal.
Only in dev/Power_Spectra: powdefocus.spi
     I like the 1D profile output, but perhaps that isn't enough reason to keep this around.
Only in dev/Power_Spectra: enhancepws.spi
     *tries* to make the Thon rings easier to see, but isn't quite robust enough yet

diff -rw 160722/Power_Spectra/apply-ctfcor-mic.spi dev/Power_Spectra/apply-ctfcor-mic.spi

diff -rw 160722/Particles/make-noise-img.spi dev/Particles/make-noise-img.spi
     changed cryptic vestiges of registers to named variables
diff -rw 160722/Particles/eman2spider.spi dev/Particles/eman2spider.spi
     cosmetic changes
diff -rw 160722/Particles/rewindow.spi dev/Particles/rewindow.spi
     cosmetic
diff -rw 160722/Particles/pick-at.spi dev/Particles/pick-at.spi
     changed cryptic vestiges of registers to named variables
diff -rw 160722/Particles/pick-at-p.spi dev/Particles/pick-at-p.spi
     changed cryptic vestiges of registers to named variables
diff -rw 160722/Particles/pick-lfc.spi dev/Particles/pick-lfc.spi
     User didn't necessarily resize the reference volume, so dimension read from params.
diff -rw 160722/Particles/pick-lfc-p.spi dev/Particles/pick-lfc-p.spi
     User didn't necessarily resize the reference volume, so dimension asked for from calling pick-lfc.
diff -rw 160722/Particles/denoise-imgs.spi dev/Particles/denoise-imgs.spi
     changed filter units to Angstroms rather than reciprocal pixels
diff -rw 160722/Particles/number-parts.spi dev/Particles/number-parts.spi
     checks if there are verified particles

Only in dev/Reconstruction: align-regroup.spi
     substitute to restack-n-ctf
diff -rw 160722/Reconstruction/filter-refvol.spi dev/Reconstruction/filter-refvol.spi
     I didn't like the hardwired filter parameters, e.g., midpt + 0.15.
     I forgot to add this step to the HTML documention.
diff -rw 160722/Reconstruction/make-ref-views.spi dev/Reconstruction/make-ref-views.spi
     number of CPUs now user-defined
diff -rw 160722/Reconstruction/align-loop.spi dev/Reconstruction/align-loop.spi
     number of CPUs now user-defined
diff -rw 160722/Reconstruction/align.spi dev/Reconstruction/align.spi
     number of CPUs outsourced to align-loop.spi
diff -rw 160722/Reconstruction/pub-align.spi dev/Reconstruction/pub-align.spi
     cosmetic
diff -rw 160722/Reconstruction/pub-submit.spi dev/Reconstruction/pub-submit.spi
     number of CPUs now user-defined
Only in dev/Reconstruction: backproject-spider.pbs
     PBS wrapper for backprojection
diff -rw 160722/Reconstruction/recon-settings.spi dev/Reconstruction/recon-settings.spi
     Number of groups may be modified after align-regroup or recon-regroup, so isn't specific here anymore.
diff -rw 160722/Reconstruction/pub-recon.spi dev/Reconstruction/pub-recon.spi
     cosmetic
diff -rw 160722/Reconstruction/recon-loop.spi dev/Reconstruction/recon-loop.spi
     number of CPUs now user-defined
diff -rw 160722/Reconstruction/recon-regroup.spi dev/Reconstruction/recon-regroup.spi
     cosmetic
diff -rw 160722/Reconstruction/recon.spi dev/Reconstruction/recon.spi
     cosmetic
diff -rw 160722/Reconstruction/plot-fsc-curve.spi dev/Reconstruction/plot-fsc-curve.spi
     tried to make plot labels nicer

diff -rw 160722/Averages/verify-settings.spi dev/Averages/verify-settings.spi
     cosmetic
Only in dev/Averages: sel-filt-byview.spi
     combined select-byview and avg-filt-byview, both slow steps with no real decision-making
Only in dev/Averages: sel-filt-byview-qsub.spi
     wrapper for sel-filt-byview.spi
Only in dev/Averages: separate-spider.pbs
     calls subjobs of sel-filt-byview on cluster

Only in dev/Averages: align-combine.spi
     subprocedure of sel-filt-byview*.spi

diff -rw 160722/Averages/verify-class-byview.spi dev/Averages/verify-class-byview.spi
     repeats screen output to text file, useful for remote monitoring
Only in dev/Averages: classify-qsub.spi
     parallelized verify-class-byview
Only in dev/Averages: gint.spi
     greatest integer function, used for distributing verify-class-byview subjobs
Only in dev/Averages: classify-spider.pbs
     calls subjobs of verify-class-byview on cluster
Only in dev/Averages: plot-cc-hist.spi
     renamed from misnomer plot-cc-vs-view.spi
diff -rw 160722/Averages/plot-ref-views.spi dev/Averages/plot-ref-views.spi
     previously ignored wantGood parameter
diff -rw 160722/Averages/show-ref-views.spi dev/Averages/show-ref-views.spi
     previously ignored wantGood parameter
     added option to open plot using ImageMagick or qview or none
diff -rw 160722/Averages/verify-combine-classes.spi dev/Averages/verify-combine-classes.spi
     added option to compute good averages
diff -rw 160722/Averages/verify-recheck.spi dev/Averages/verify-recheck.spi
     cosmetic
Only in dev/Averages: good-parts-bymic.spi
     diagnostic to see if close-to-focus micrographs are underrepresented
Only in dev/Averages: intersect-byview.spi
     utility useful when importing data from elsewhere
diff -rw 160722/Averages/best-imgs.spi dev/Averages/best-imgs.spi
     warns about ignored outputs: verified, rechecked particles

diff -rw 160722/Refinement/refine-settings.spi dev/Refinement/refine-settings.spi
     gets more information from params, possible conflict/confusion otherwise
Only in dev/Refinement: validate-qsub.spi
     estimates memory requirements for cluster
Only in dev/Refinement: refine-show-radii.spi
     added as a pre-validation step for radii
diff -rw 160722/Refinement/pub-refine.spi dev/Refinement/pub-refine.spi
     removed showing the radius to a pre-validation step
Only in dev/Refinement: master-spider.pbs
     wrapper for refinement (On our cluster, our login session terminates after 24 hours.)
Only in dev/Refinement: refine-spider.pbs
     oops, not used anymore
diff -rw 160722/Refinement/memforqsub.spi dev/Refinement/memforqsub.spi
     padding memory requirements by 20%, to be safe
diff -rw 160722/Refinement/merge-fsc-filt.spi dev/Refinement/merge-fsc-filt.spi
     cosmetic
     I'm still trying to figure out spherical deconvolution.
diff -rw 160722/Refinement/pub-prjrefs.spi dev/Refinement/pub-prjrefs.spi
     cosmetic
diff -rw 160722/Refinement/pub-refine-start.spi dev/Refinement/pub-refine-start.spi
     number of CPUs now user-defined
diff -rw 160722/Refinement/pub-submit.spi dev/Refinement/pub-submit.spi
     cosmetic
diff -rw 160722/Refinement/qsub.pbs dev/Refinement/qsub.pbs
     Brno cluster doesn't like comments on PBS-flag lines
     other Brno-specific changes
diff -rw 160722/Refinement/pub-refine-fix.spi dev/Refinement/pub-refine-fix.spi
     cosmetic
diff -rw 160722/Refinement/plot-fsc-curves.spi dev/Refinement/plot-fsc-curves.spi
     tried to make the plot nicer

diff -rw 160722/Docs/mr1.html dev/Docs/mr1.html
   I tried to update the changes I made, although I concentrated on inputs and outputs, neglecting some changes to the parameter names.
   I change the bibliography section a bit too, adding some references I like.
   I just noticed I need to renumber the quick-start guide in some places.

------------------------------------- 27 Oct -----------------


> Starting with top  procedures on the github change list:
>
>   1)  docs/techs/recon1/Procs/align-combine.spi          |  129 ++++
>
>        I do not know whether this proc  is still used???

This is a subroutine of sel-filt-byview.  I named it based on its
function, rather than the calling procedure.  We can rename it if you'd
like.

>   2) align-loop.spi
>       Your changes do not seem to start from the same present base procedure.
>       e.g. [steptype] = 0           ; Alignment step
>       is mssing for (IF ( [grp] > 0 ) THEN)
>
>      Is the lack of this important? I think so.

Oops, the '[steptype] = 0' should be there.  I forgot it in serial
align.spi also.

>   3)  docs/techs/recon1/Procs/align-regroup             To: unknown??
>        I do not know whether this is still used???

This is a substitute for stackwins-n-ctf.spi, since we images are in the
form of micrograph-wise stacks one you arrive at this point.

> 58,60d61
> <  UD N [num-grps]
> <    [sel_group]
>
>     Critical differences:in recon-settings in the new changes.

Yes, this is intentional.  Having [num-grps] in the settings file was a
significant source of confusion for me if I was regrouping the images
between alignment and reconstruction.
