<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>

<head>
    <title>Particle-picking procedure files</title>
</head>

<body>

<p />

<p align="right">
<i>(Updated 2013 Jan 21)</i> </p>

<p> 
<h2 align="center"> <b>Particle verification for single-particle, 
   reference-based reconstruction 
   using multivariate data analysis and classification   </b>         <br />
   As described in <i>J Struct Biol </i> (2008) 
   <b>161   </b>: 41-48. <br />
   <b>Out of date, legacy protocol, with dead links?    </b> 
</h2>
</p>

<hr />

<p>
<a name="top">
<h3 align="left"> <b> Outline </b> </h3> 
</p>

<ul>
    <li><a href="#links">Links</a>                      </li>
    <li><a href="#notes">General notes </a>             </li>
    <li><a href="#mods">Recent modifications</a>        </li>
    <li><a href="#quick">Quick-start guide</a>          </li>
    <li>Procedure files</a>                             </li>
    <ul>
        <li><a href="#start">Getting started</a>        </li>
        <li><a href="#mics">Micrographs</a>             </li>
        <li><a href="#ctf">CTF estimation</a>           </li>
        <li><a href="#particles">Particle-picking</a>   </li>
        <li><a href="#align">Alignment</a>              </li>
        <li><a href="#verify">Particle-verification</a> </li>
        <li><a href="#average">Compute averages</a>     </li>
        <li><a href="#reconstruct">3D reconstruction</a></li>
        <li><a href="#refine">Refinement</a>            </li>
    </ul>
    <li><a href="#other">Additional procedure files</a> </li>
</ul>

<hr />

<p>
<b><font size="4"><a name="links">Links:</a></font></b></p>
<ul>
    <li>verifybyview.py 
        <a href="../../../../spire/tools-docs/verifybyview.html">documentation</a> and
        <a href="../../../../spire/bin/verifybyview.py"> source code</a>                 </li>
    <li><a href="docfiles.htm">Doc file formats</a>                                      </li>
    <li><a href="misc.htm">Miscellaneous procedure files</a>                             </li>
    <li><a href="truncate-neg.htm">Editing <b>order_picked.dat</b></a>                   </li>
    <li><a href="classavgs.htm">Picking whole classes using WEB</a>                      </li>
    <li><a href="truncate-class.htm">Using the "first good" method in WEB</a>            </li>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="notes">General notes:</a></font></b></p>
<ul>
    <li><font color="teal">Changes from the &quot;normal&quot; flow will be shown in teal</font>.</li>
    <li>Data filenames will be in <b>bold</b>, and menu options will be in <i>italic</i>.        </li>
    <li>Data extension is assumed to be <b>.dat</b>. Adjust accordingly.                         </li>
    <li>Console commands will be in Courier.</li>
</ul>

<p><a href="#top">Return to top</a> </p>


<hr />

<p>
<b><font size="4"><a name="quick">Quick-start guide</a></font></b></p>

<p>Options limited for the sake of simplicity. For more details, see below.</p>

<p><a href="#start">In toplevel directory (<i>e.g.</i>, <b>myproject/</b>):</a></p>
<ol>
    <li>Unpackage 
        <a href="../../recon/spiproject.tar"> projection-matching procedure files</a>    </li>
    <li>Unpackage <a href="../ve20140806.tar"> verification procedure files</a>          </li>
    <li>Copy <b>params</b> file or Run: spider spi/dat @makeparams                       </li>
    <li>Copy reference volume and/or Run: spider spi/dat @resizevol                      </li>
</ol>
<p><a href="#mics">In <b>Micrographs/</b></a>: </p>
<ol start=5>
    <li>mkfilenums      ../filenums.dat  mic*.dat      </li>
    <li>spider spi/dat  @shrink                        </li>
    <li>montagefromdoc  ../sel_micrograph.dat sm-mic*  </li>
</ol>
<p><a href="#ctf">In <b>Power_Spectra/</b></a>: </p>
<ol start=8>
    <li>spider spi/dat @powdefocus                                </li>
    <li>montagefromdoc ../sel_micrograph.dat Power_Spectra/pw_avg*</li>
    <li>ctfmatch Power_Spectra/ctf* &amp;                         </li>
    <li>spider spi/dat @defavg                                    </li>
</ol>
<p><a href="#particles">In <b>Particles/</b></a>: </p>
<ol start=14>
    <li>Copy noise file, or spider spi/dat @noise</li>
    <li>e2boxer.py                               </li>
    <li>spider spi/dat @eman2spider              </li>
    <li>spider spi/dat @rewindow                 </li>
    <li>spider spi/dat @numberparticles          </li>
</ol>
<p><a href="#align">In <b>Alignment/</b></a>: </p>
<ol start=20>
    <li>spider spi/dat   @sel_by_group           </li>
    <li>spider spi/dat   @win2stk                </li>
    <li>spider spi/dat   @refproj                </li>
    <li>./spider spi/dat @apsh-pubsub &amp;      </li>
</ol>
<p><a href="#verify">In <b>Reconstruction/</b></a>: </p>
<ol start=24>
    <li>spider spi/dat @selectbyviewall          </li>
    <li>spider spi/dat @filterbyview             </li>
    <li>spider spi/dat @classify                 </li>
    <li>verifybyview                             </li>
    <li>spider spi/dat @combinegoodclasses       </li>
    <li>(optional) spider spi/dat @recheck       </li>
    <li>(optional) spider spi/dat @viewaverage   </li>
    <li>spider spi/dat @histgoodccc              </li>
    <li>spider spi/dat @goodparticlesbydf        </li>
    <li>spider spi/dat @dfgoodapsh               </li>
    <li>(optional) spider spi/dat @select        </li>
    <li>(optional) spider spi/dat @plotrefviews  </li>
    <li>(optional) spider spi/dat @display       </li>
    <li>(optional) spider spi/dat @bestim        </li>
    <li>./spider spi/dat bps-pubsub &amp;        </li>
    <li>(optional) spider spi/dat @slices        </li>
    <li>spider spi/dat @plotres                  </li>
    <li>spider spi/dat @make_matched             </li>
    <li>spider spi/dat @matchedfilter            </li>
    <li>spider spi/dat @consecprepare            </li>
</ol>
<p><a href="#refine">In <b>Refinement/</b></a>: </p>
<ol start=44>
    <li>Edit <b>refine_settings</b>              </li>
    <li>./spider pam/dat @pub_refine &amp;       </li>
    <li>spider spi/dat @plotrefres               </li>
</ol>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="start">Getting started</a></font></b></p>
<ul>
   <li>Unpackage the "normal" 
       <a href="../../recon/spiproject.tar"> projection-matching procedures tar archive</a></li>

    <li>In the top-level directory created by unpackaging 'spiproject.tar' unpackage the 
       <a href="../ve20140806.tar"> supplemental, verification procedures tar archive.</a> </li>
    
    <li>If using SPIRE:                                                              </li>
    <ul>
        <li>Type: </li>
            <pre>spire &amp; </pre>
        <li>Type something, anything, under <i>Project title</i>.                    </li>
        <li>Enter data extension under <i>data extension</i>. 
             Here, I will assume <b>.dat</b>, so adjust accordingly.                 </li>
        <li>Under <i>Directory for this project</i>, 
             make sure that the current directory is entered. 
             Sometimes the data extension is appended, thus defining a new directory.</li>
        <li>Under <i>Configuration file</i>, select <b>verify.xml</b>, 
             using the <i>Browse</i> button if necessary.                            </li>
        <li>Uncheck the button <i>Create directories and load procedure files</i>.   </li>
    </ul>
    
    <li>makeparams.spi </li>
    <ul>
        <li>OUTPUT: <b>params</b></li>
    </ul>
    <li><font color="teal">Skip makefilelist.spi -- 
         The Python script  
         <a href="../../../../spire/bin/mkfilenums.py">mkfilenums.py</a>
         is more general.                                                </li>
    <li>Get reference volume                                             </li>
    <li>(optional) resizevol.spi -- interpolates reference-volume        </li>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="mics">Micrographs</a></font></b> -- in <b>Micrographs/</b> directory</p>
<ul>
    <li><font color="teal">Micrographs are assumed to have the file pattern <b>mic****</b></font> </li>
    <li><font color="teal">To generate a SPIDER doc file containing a list of micrographs, type
         (substitituing the appropriate data extension):                 </li>
         <pre>mkfilenums ../filenums.dat mic*.dat</pre></font>
    
    <li><font color="teal">Shrink the micrographs</font>                 </li>
    <ul>
        <li><font color="teal"><a href="../batch/Micrographs/shrink.spi">shrink.spi</a></font></li>
        <li><font color="teal">PARAMETER: decimation factor (so that 
             the micrograph fits on the screen at 1X)</font></li>
        <li><font color="teal">INPUT: <b>mic****</b> </font></li>
        <li><font color="teal">OUTPUT: <b>sm-mic****</b> </font></li>
    </ul>
    
    <li><font color="teal">(Optional) Screen the micrographs using 
         <a href="../../../../spire/bin/montagefromdoc.py">montagefromdoc.py</a>.</font> </li>
    <ul>
        <li><font color="teal">Run:                                      </li>
            <pre>montagefromdoc </pre> 
            The first popup window will contain hopefully reasonable settings, or
            you can enter <b>filenums</b> and the micrograph file-pattern on the command line 
            (in that order).</font>
        <li><font color="teal">Alternatively, to keep all the micrographs, in the 
                 top-level directory, copy <b>filenums</b> to <b>sel_micrograph</b>.</font></li>
    </ul>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="ctf">CTF estimation</a></font></b> -- in <b>Power_Spectra/</b>directory</p>
<ul>
    <li>powdefocus.spi (slow)</li>
    <ul>
        <li>INPUT:  <b>Micrographs/mic****</b>                                  </li>
        <li>OUTPUT: <b>Power_Spectra/pw_avg***</b>, <b>Power_Spectra/roo***</b> </li>
    </ul>
    
    <li><font color="teal">Screen the power spectra visually using 
        <a href="../../../../spire/bin/montagefromdoc.py"> montagefromdoc.py</a>..</font> </li>
    <ul>
            <li><font color="teal">Run: <pre>montagefromdoc   </pre> 
                The first popup window will contain hopefully reasonable settings. 
                If not, the input doc file is <b>sel_micrograph</b> and 
                the image file pattern is <b>Power_Spectra/pw_avg****</b>.</font>          </li>
            <li><font color="teal">To enhance the contrast more than is possible in 
                 montagefromdoc.py, you may need to view a power spectrum in JWEB.</font>  </li>
            <li><font color="teal">The output selection doc file, <b>sel_micrograph</b>, 
                 will overwrite the original, however a backup copy will be saved.</font>  </li>
    </ul>
    
    <li>Screen the determined defocus values.                                             </li>
    <ul>
        <li><a href="../../../../spire/tools-docs/ctfmatch.html"> ctfmatch.py</a> 
            is a nice program to display the fitting. 
            If removing bad micrographs, name the list of remaining good micrographs 
            <b>sel_micrograph</b>.                                                         </li>
    </ul>
    </ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="particles">Particle-picking</a></font></b> -- in <b>Particles/</b>
 directory</p>
<ul>
    <li>Get noise file, either from previous project or from noise.spi </li>

    <li>Window particles from micrographs (slow).</li>
    <ol>
    <li>pick.spi</li>
        <ul>
            <li>pick.spi calls pick_p.spi. <br />
                Selecting particles from micrographs in WEB is another option.                     </li>
            <li>INPUT: <font color="teal"><b>../batch/Micrographs/mic****</b> 
                      (change from <b>raw****</b>)</font>, <b>../reference_volume</b>, <b>noise</b></li>
            <li>OUTPUT: <b>win/winser_****</b>, <b>coords/sndc****</b>                             </li>
        </ul>
    
    <li>lfc_pick.spi</li>
        <ul>
            <li>lfc_pick.spi calls pickparticle.spi.</li>
            <li>INPUT: <b>../batch/Micrographs/mic****</b> (change from <b>raw****</b>, <b>../reference_volume</b>, <b>noise</b></li>
            <li>OUTPUT: <b>win/winser_****</b>, <b>coords/sndc****</b> </li>
        </ul>
    
    <li>boxer/e2boxer.py in EMAN/EMAN2</li>
        <ul>
            <li>After picking particles with boxer, run 
                <a href="../batch/Particles/eman2spider.spi">eman2spider.spi</a>.
                 <ul>
                      <li>INPUT: <b>../batch/Micrographs/mic****.box</b> (<i>e2boxer</i> coordinate file) </li>
                      <li>OUTPUT: <b>coords/sndc****</b>                                            </li>
                      <li>This procedure file runs Python script 
                         <a href="../../../../spire/bin/emancoords2spiderdoc.py">
                          emancoords2spiderdoc.py</a>.                                  <br />

                          To run a single micrograph, use the syntax (substituting the 
                          appropriate file names/numbers):                                         </li> 
                    <pre>emancoords2spiderdoc input_eman_coords0001.box coords/sndc0001.dat</pre>
<!--                The micrograph is needed for its dimensions, 
                since SPIDER and EMAN use different conventions for the image origin.-->
                </ul>
            <li>Then, window out the images using 
                <a href="../batch/Particles/rewindow.spi">rewindow.spi</a></li>
                 <ul>
                      <li>INPUT: <b>../batch/Micrographs/mic****</b>, <b>coords/sndc****</b>     </li>
                      <li>OUTPUT: <b>win/winser_****</b>                                   </li>
                      <li>This is also a useful procedure file if I want to use a different window size, 
                          or if I've deleted the <b>winser</b> files to free up disk space.</li>
                 </ul>
        </ul>
    </ol>

    <li><font color="teal">(Optional) Select particles from micrograph stacks.</font> <br />
        <font color="teal">lfc_pick.spi sorts particles by high cross-correlation to 
        worst, and will typically lead off each micrograph with 
        ice-condensation blobs and end with noise. You can exclude these bad images at the 
        extremes by specifying the contiguous range that includes all of the good particles.
        This step will save time and disk space and will help the classification.  <br />
        There are two ways to visualize the particles: using WEB or the Python utility  
        <a href="../../../../spire/tools-docs/montagefromdoc.html"> montagefromdoc.py</a>  </li>

    <ol>
        <li><font color="teal">Using montagefromdoc.py -- 
            this will require less preprocessing 
            (e.g., filtershrink.spi) but Python display is slower than WEB. </font></li>
        <ul>
            <li><font color="teal">Run: 
                <pre>montagefromdoc </pre> 
                The first popup window will contain hopefully reasonable settings, 
                such as input <b>coords/sndc****</b> and output <b>good/good****</b>.
                Alternatively, you can enter the doc-file and particle-file names 
                on the command line (in that order), e.g.,
                <pre>montagefromdoc coords/sndc1234 win/winser_1234</pre></font></li>
        </ul>
        <li><font color="teal">Using WEB</font></li>
        <ul>
            <li><font color="teal">Under <i>Options/Image</i> turn on filenames, and 
                you may need to use a small font, set under <i>Options/Font</i>.
                Open the stacks <b>win/winser_****</b>.</font> </li>
            <li>There used to be procedure files 
                <a href="../batch/Particles/filtershrink.spi">filtershrink.spi</a> and
                <a href="../batch/Particles/negmontagedocs.spi">negmontagedocs.spi</a>  
                to filter and break the stacks into a bite-sized number of images, 
                respectively, but 
                I haven't updated them since lfc_pick started using stacks.  Contact 
                me if you would like 
                to have these procedure files updated.  </li>
<!-- 
            <li>In WEB, using <i>Montage from doc file</i>, display montages. <br />
                For example, assuming the montages are in the <b>coords/</b>
                directory, under <i>Image file template</i>; type &quot;<b>../win/ser******</b>&quot;
                (or &quot;<b>../flt/flt******</b>&quot; if you've filtered the particles already). <br />
                For six-digit image-numbers, I recommend using 8-point font in WEB 
                (under <i>Options/Font</i>).</font></li>
            <li><font color="teal">Filter particles and optionally shrink them.</font></li>
            <ul>
                <li><font color="teal"><a href="../batch/Particles/filtershrink.spi">filtershrink.spi</a> 
                    </font> </li>
                <li><font color="teal">INPUT: <b>win/ser******</b> (default will be <b>ali/sar******</b>)</font> </li>
                <li><font color="teal">OUTPUT: <b>flt/flt******</b> </font></li>
            </ul>

            <li><font color="teal">Separate particles into montages that will fit on the screen.</font></li>
            <ul>
                <li><font color="teal"><a href="../batch/Particles/negmontagedocs.spi">negmontagedocs.spi</a> </font></li>
                <li><font color="teal">INPUT: <b>order_picked</b> </font></li>
                <li><font color="teal">OUTPUT: <b>coords/docmontage****_##</b> </font></li>
                <li><font color="teal">The default number of particles per montage is 150.<br />
                    At 65x65 pixels, ten rows of 15 particles fit nicely on a screen.</font> </li>
            </ul>
 -->
        </ul>
    </ol>

    <li><font color="teal">Skip: renumber.spi</font>                                                  </li>
    
    <li><font color="teal">Assign global particle number for each particle. </font></li>
    <ul>
        <li><font color="teal"><a href="../batch/Particles/numberparticles.spi">numberparticles.spi</a> </font></li>
        <li><font color="teal">PARAMETER: maximum particles per micrograph 
            (it is probably safe to err on the side of too many, or 0 will keep all of them) </font>  </li>
        <li><font color="teal">INPUT: <b>win/sel_particle_****</b> 
            (or <b>good/good****</b> if you selected particles from micrograph stacks)</font>         </li>
        <li><font color="teal">OUTPUT: <b>coords/ngood****</b> <b>coords/mic2global</b> </font>       </li>
    </ul>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="align">Alignment</a></font></b> -- in <b>Alignment/</b> directory</p>
<ul>
    <li>sel_by_group.spi</li>
    <ul>
        <li>INPUT: <b>../batch/Particles/good/ngood{****[mic]}</b></li>
        <li>OUTPUT: <b>sel_particles_***</b>, <b>sel_group</b></li>
    </ul>

    <li>win2stk.spi</li>
    <ul>
        <li>INPUT: <b>../batch/Particles/win/winser_***@</b>, <b>../batch/Particles/good/ngood{****[mic]}</b></li>
        <li>OUTPUT: <b>data***</b></li>
    </ul>

    <li>refproj.spi </li>
    <ul>
        <li>INPUT: <b>reference</b>, <b>../Power_Spectra/order_defgrps</b> </li>
        <li>OUTPUT: <b>refangles</b>, <b>prj_####@****</b> </li>
    </ul>
    
<!--    <li>apshgrp.spi </li>
    <ul>
        <li>INPUT: <b>prj_####@****</b>, <b>data***</b>, <b>sel_particles_***</b></li>
        <li>OUTPUT: <b>align_01_***</b>, <b>dala01_***</b></li>
        <li>To run it using PubSub, change the <i>[pubsub]</i> flag in the procedure file, and 
             copy the SPIDER executable to the local directory, i.e., <b>./spider</b> <br /> 
             The syntax will be:</li>
             <pre>./spider spi/dat @apshgrp 1 > log1.txt &amp; </pre>
             where:
             <ul>
                  <li><i>1</i> -- is the number of the master results file, and </li>
                  <li><b>log1.txt</b> -- is a file that contains the screen output, 
                       so that you can easily monitor the progress remotely. 
                       To monitor this file in real time, type:                </li>
                       <pre>tail -f log1.txt</pre>
             </ul>
    </ul>  -->
    
   <li><font color="teal">Align particles to reference projections</font>

    <br /><br /><font color="teal">Alignment is CPU-intensive and benefits by parallelization. 
    Whether you are running the alignment in parallel or in series, edit (but do not run)
    <a href="../batch/Alignment/apsh-settings.spi">apsh-settings.spi</a>. </font>
    <ul>
        <li><font color="teal">PARAMETERS: </font></li>
            <ul>
                <li><font color="teal"><i>[shrange]</i> -- translation search range </font></li>
                <li><font color="teal"><i>[step]</i> -- translation step size 
                    <br /> The operation  
                        <a href="../../../man/apsh.html">'AP SH'</a>
                        tries different combinations of shifts in increments of <i>[step]</i> up to <i>[shrange]</i>, 
                        performs an orientational alignment, and chooses the best one.  
                        (See note in the
                        <a href="../../../man/apsh.html">'AP SH' manual</a>.) 
                    <br /> For example, with a <i>[step]</i> and <i>[shrange]</i> both of 2, 
                        'AP SH' will try shifts of (-2,2),(0,2),(2,2),(-2,0),(0,0),(2,0),(-2,-2),(0,-2), and (2,-2).</font> </li>
                <li><font color="teal"><i>[r2]</i> -- outer alignment radius (pixels) 
                    <br /> The sum of <i>[shrange]</i> and <i>[r2]</i> must be less than half the image dimension</font></li>
               <li><font color="teal"><i>[max-wait]</i> -- Will wait up to 10 minutes by default before reading a new group's stack, 
                   in order to distribute disk I/O.</font></li>
            </ul>
        <li><font color="teal">INPUT: <b>projs/prj_***</b>, <b>data***</b> </font> </li>
        <li><font color="teal">OUTPUT: <b>align_01_***, dala01_***</b></font> </li>
    </ul>
    
   <br /><font color="teal">The following options will depend on whether using you are using 
         Publish and Subscribe on a cluster:</font>
   
   <ol>
   <li><font color="teal">Run 
      <a href="../batch/Alignment/apsh-inseries.spi">apsh-inseries.spi</a>.</font></li>
   </ol>

<p><font color="teal">The following is a brief tree of procedure calls:</font>

<font color="teal"><table border="1" style="background-color:eeeeee">

<tr><td valign="top">
<pre>
<a href="../batch/Alignment/apsh-inseries.spi"><b>apsh-inseries</b></a>
    <a href="../batch/Alignment/apsh-settings.spi">apsh-settings</a>
    
    
    <a href="../batch/Alignment/apsh-main.spi">apsh-main</a>
    
</pre>
</td></tr></table>
</font>
</p>
 
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<font color="teal"><b><font size="4"><a name="verify">Verify Particles</a></font></b> -- 
                                      in <b>Reconstruction/</b> directory</font></p>

<ul>
    <li><font color="teal">Make selection doc for each reference view. </font>                            </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/selectbyviewall.spi">
             selectbyviewall.spi</a> </font>                                                              </li>
        <li><font color="teal">SUBROUTINE: <a href="../batch/Reconstruction/reversedoc_7col.spi">
             reversedoc_7col.spi</a> </font>                                                              </li>
        <li><font color="teal">INPUT:  <b>align_01_***</b>, <b>../batch/Alignment/sel_particles_***</b> </font> </li>
        <li><font color="teal">OUTPUT: <b>stack2particle***</b>, <b>select/sel***</b></font>              </li>
    </ul>

    <li><font color="teal">Filter and (optionally) shrink particles. </font>           </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/filterbyview.spi">filterbyview.spi</a> </font></li>
        <li><font color="teal">INPUT: <b>dala01_***</b>, <b>align_01_***</b> </font>    </li>
        <li><font color="teal">OUTPUT: <b>select/prj***/stkfilt</b> </font>             </li>
        <li><font color="teal">The goal with the filter parameters was to be able to ignore CTF effects. 
            So, I chose the first CTF zero of the most-defocused micrograph as the Butterworth stop-band. 
            If you're not sure what filter radii to use, try 
            <a href="../batch/Reconstruction/findctfminima.spi">findctfminima.spi</a>  </font>   </li>
        <li><font color="teal">To test the filter parameters, 
            try running this procedure file on just the particles in one reference view, 
            by setting parameter <i>[last-view]</i> to 1. </font>                       </li>
        <li><font color="teal">If you're using old, X-Window WEB, which
            can't montage a doc file from stacks (NOTE: it can now), run 
            <a href="../batch/Reconstruction/filtershrinksh.spi">filtershrinksh.spi</a>, 
            which instead writes <b>../batch/Particles/flt/flt******</b></font>               </li>
    </ul>

    <li><font color="teal">(Optional) Screen particles without classification. </font>  </li>
    <ul>
        <li><font color="teal">You can optionally screen the particles without classification.
             This could be useful for small data sets that don't warrant classification,
             or if you otherwise want to see all particles before classification. Run:
             <pre> montagefromdoc </pre>
             The first popup window will hopefully have reasonable settings.
             If not, enter <b>select/sortsel001.dat</b>, <b>select/prj001/stkfilt.dat</b>, and 
             <b>select/prj001/goodsel.dat</b> for the input selection filename, particle filename, 
             and output selection file, respectively. </font>                                     </li>
        <li><font color="teal">If you perform this step, skip ahead past combinegoodclasses.spi</font> </li>
        <li><font color="teal">The particles are sorted by correlation coefficient, from highest to lowest. 
             You can display the CCROT values by clicking the checkbutton under <i>Display/Labels</i>,
             but you'll probably need to resize the window.</font>                                </li>
    </ul>

    <li><font color="teal">Run correspondence analysis and separate particles into classes. </font></li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/classify.spi">classify.spi</a> </font>      </li>
        <li><font color="teal">INPUT: <b>select/sel***</b>, <b>select/prj***/stkfilt</b> </font>   </li>
        <li><font color="teal">OUTPUT: <b>select/prj***/{docclass###</b>, <b>classavg###</b>, 
            <b>listclasses</b>} </font></li>
        <li><font color="teal">If you're running X-Windows WEB (or for some other reason ran 
            <a href="../batch/Reconstruction/filtershrinksh.spi">filtershrinksh.spi</a>) instead run 
            <a href="../batch/Reconstruction/unstacked-classify.spi">unstacked-classify.spi</a>, 
            which uses <b>../batch/Particles/flt/flt******</b> as an input.</font>           </li>
        <li><font color="teal">You can select good class-averages for a reference-view as 
            soon as the procedure file starts on a subsequent reference-view (as 
            printed to the screen). As of 2004, you can probably sift through 
            classes faster than SPIDER can calculate them.</font>                       </li>
        <li><font color="teal">During MSA, SPIDER may hang at a particular reference view.
            If this happens, switch to a different MSA method (<i>e.g.,</i> from correspondence 
            analysis to iterative PCA) and restart at that reference view. </font>      </li>
    </ul>
    <li><font color="teal">If you would like to verify particles on a different computer, 
        you should be able to copy the contents of the <b>Reconstruction/select/</b> directory. 
        There are a couple thousand files there total, including the particle stacks, 
        in contrast to ~100,000 files in the case of unstacked particles.</font>        </li>

    <li><font color="teal">There are four options for keeping particles, 
           depending on how much control you want/need:</font>                          </li>

        <ul>
        <li><font color="teal">Option using Python/Tkinter:<br />
            Select classes and particles therein using verifybyview.py. 
            More information found 
            <a href="../../../../spire/tools-docs/verifybyview.html">here</a>.</font>   </li>

        <li><font color="teal"><a name="web">Options using WEB:</a>                     </li>
            <ul>
                <li>First, select good class-averages in WEB using <i>Categorize/Sequential 
                    montage</i> (to show them in sequential order) or <i>Categorize/Doc. 
                    file montage </i>(using <b>listclasses</b>) to show them 
                    from worst cross-correlation to best. </font>                       </li>
                <li><font color="teal">Name the resulting list of good classes <b>goodclasses</b> and 
                    click on the good classes. WEB by default will write a separate 
                    document file for each reference view. </font>                      </li>
                <li><font color="teal">Check member particles -- in 
                    separate WEB window -- using <i>Montage from doc file</i>. using 
                    the appropriate document file <b>docclass{***class#}</b>.          <br />
                    The <i>Image file template</i> in WEB should be 
                    &quot;<b>../batch/Particles/flt******</b>&quot; <br />
                    Particles will be sorted from worst cross-correlation to best.      <br />
                    See <a href="classavgs.htm">here</a> for an illustrated example.</font>     </li>
                <li><font color="teal">There are three levels of control in verifying particles using WEB:</font></li>
                    <ol>
                        <li><font color="teal">Simply click on the good classes as described above.           <br />
                            This will keep all of the particles in the good classes. </font>                  </li>

                        <li><font color="teal">Manually click on the first good particle in each class.       <br />
                            I recommend doing this until you get a feel for which classes are bad.            <br />
                            See <a href="truncate-class.htm">here</a> for an illustrated example.</font></li>
                            <ul>
                                <li><font color="teal">Click on the good classes as described above.</font>   </li>
                                <li><font color="teal">Instead of displaying class-montages with <i>Montage 
                                    from doc file</i>, use <i>Categorize/Doc. file montage</i>. </font>       </li>
                                <li><font color="teal">Name the output file <b>firstgoodparticle</b>. There 
                                    should be one file for each reference-view. </font></li>
                                <li><font color="teal">When prompted for the key, enter the class-number.     <br />
                                    If there isn't a key for each good class, the next procedure 
                                    file (combinegoodclasses.spi) will crash. </font></li>
                                <li><font color="teal">Click on the first good particle for each class that has 
                                    particles you want to keep, e.g., the first one to keep all of them.</font></li>
                            </ul>
                        <li><font color="teal">Manually click on the good particles in each class. <br />
                            The only advantages over fully manual-particle verification is 
                            that the particles are separated by view and aligned. 
                            This is useful if classification didn't do a good job on your particles.</font>      </li>
                            <ul>
                                <li><font color="teal">Click on the good classes as described above.</font>      </li>
                                <li><font color="teal">Display the class-montages using <i>Categorize/Doc. file montage</i>. </font></li>
                                <li><font color="teal">Name the output file <b>byhand{***class#}</b>. </font>    </li>
                                <li><font color="teal">Click on each particle that you would like to keep.</font></li>
                            </ul>

                            <font color="teal">If using WEB, for a given reference-view, you have to use the same method for all 
                            classes.                                                                  <br />
                            That is, if you use the "whole class" mode (option 1) for one class in a 
                            reference-view, you must use it for all classes.                          <br />
                            The same goes for options 2 and 3. 
                            However, you can mix-and-match methods within different reference-views.  <br />
                            The next procedure file will write to the screen which method was used for each view.</font></li>
                    </ol>
            </ul>
        </ul>

    <li><font color="teal">Combine particles from good classes. </font></li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/combinegoodclasses.spi">combinegoodclasses.spi</a> </font></li>
        <li><font color="teal">SUBROUTINE: <a href="../batch/Reconstruction/reversedoc_7col.spi">
            reversedoc_7col.spi</a> </font>                                                                      </li>
        <li><font color="teal">INPUT: <b>select/prj***/{docclass###</b>, <b>goodclasses</b>,<b>select/sel***</b>, 
            <b>firstgoodparticle</b> (optional), <b>byhand</b> (optional)}</font>                                </li>
        <li><font color="teal">OUTPUT: <b>select/prj***/goodsel</b> (one for each reference-view),
         <b>select/combinestats</b> </font>                                                                      </li>
    </ul>

    <li><font color="teal">(Optional) Re-screen the particles by view. </font>                               </li>
        <ol>
            <li><font color="teal">Screen particles using .montagefromdoc </font>                            </li>
            <ul>
                <li><font color="teal">In <b>select/</b>, I included a <b>.montagefromdoc</b> file with hopefully reasonable settings.
                If not, type: <pre>montagefromdoc prj001/goodsel.dat prj001/stkfilt.dat</pre>
                For the output filename, use <b>prj001/notgood</b>.</font>                                   </li>
                <li><font color="teal">To salvage bad particles, do the converse, i.e., 
                    use <b>prj001/badsel.dat</b> and <b>prj001/notbad.dat</b> as the input and output.</font></li>
                <!-- <li><font color="teal"> </font></li> -->
            </ul>

        <li><font color="teal"><a href="../batch/Reconstruction/recheck.spi">recheck.spi</a> </font>                     </li>
            <ul>
                <li><font color="teal">SUBROUTINE: <a href="../batch/Reconstruction/reversedoc_7col.spi">
                    reversedoc_7col.spi</a> </font>                                                             </li>
                <li><font color="teal">INPUT: <b>select/prj***/sortsel</b>, <b>select/prj***/goodsel</b>,
                     <b>select/prj***/badsel</b> <b>select/prj***/notbad</b>, <b>select/prj***/notgood</b></font></li>
                <li><font color="teal">OUTPUT: <b>select/prj***/goodselB</b>, <b>select/prj***/badselB</b> </font></li>
                <li><font color="teal">For the output doc files, I used a letter to distinguish from prior output. 
                    A number might cause problems for montagefromdoc.py.</font>                                   </li>
            </ul>
        </ol>

    <li><font color="teal">(Optional) Average images by view</font></li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/viewaverage.spi">viewaverage.spi</a> </font>               </li>
        <li><font color="teal">INPUT: <b>select/prj***/goodsel</b> <br />
             If you ran recheck.spi, add the tiebreaker (e.g., <i>B</i>) to the filename. </font>                 </li>
        <li><font color="teal">OUTPUT: <b>select/prj***/goodavg</b>,<b>select/prj***/goodvar</b> (optional)</font></li>
        <li><font color="teal">One advantage of this procedure file over average.spi is that it combines all defocus groups.</font></li>
        <li><font color="teal">You can use verifybyview.py to link the averages to the retained particles.  
             To do so, run verifybyview from <b>Reconstruction/select/</b> 
             (so as to not overwrite the settings in <b>Reconstruction/</b>). 
             The default settings in <b>.verifybyview</b> will hopefully be reasonable.  
             In principle, you could re-screen your particles if there are still bad ones.</font>                 </li>
    </ul>

    <li><font color="teal">Compute CCC histogram of particles</font></li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/histgoodccc.spi">histgoodccc.spi</a> </font>         </li>
        <li><font color="teal">INPUT: <b>select/prj***/goodsel</b>, <b>select/prj***/badsel</b>             <br />
             If you ran recheck.spi, add the tiebreaker (e.g., <i>B</i>) to the filename. </font>           </li>
        <li><font color="teal">OUTPUT: <b>combinedgood</b>, <b>histcccgood</b>, <b>histcccbad</b></font>    </li>
        <li><font color="teal">Check histogram using <a href="../batch/Reconstruction/fit.gnu">fit.gnu</a>, 
            modifying file extension and fit, if needed. Type  
            <pre>gnuplot </pre> and then at the prompt, type (including the single quotes):
            <pre>load 'fit.gnu'</pre>
            Normally, the histogram should look Gaussian.  If there is a tail or a second mode 
            at the low-CCC end, there may be non-particles remaining.  You can filter them out
            by using a fractional cutoff in a later step, or you can go back and more stringently 
            go through the particles.</font></li>
    </ul>

    <li><font color="teal">Separate total good-particle list by defocus-group. </font>                      </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/goodparticlesbydf.spi">goodparticlesbydf.spi</a> </font></li>
        <li><font color="teal">PARAMETER: fractional cutoff (optional, use 0.0 to keep all)</font>             </li>
        <li><font color="teal">INPUTS: <b>combinedgood</b>, <b>stack2particle***</b></font>                    </li>
        <li><font color="teal">OUTPUT: <b>df***/goodparticles</b>, <b>sel_group_cclim</b>, <b>sel_group_cclim_sorted</b> </font> </li>
        <li><font color="teal">For large particle sets, this procedure file may crash, in which case try 
            <a href="../batch/Reconstruction/big-goodparticlesbydf.spi">big-goodparticlesbydf.spi</a> </font>           </li>
    </ul>
    
    <li><font color="teal">Generate alignment documents with only good particles</font>                        </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/dfgoodapsh.spi">dfgoodapsh.spi</a> </font></li>
        <li><font color="teal">INPUT: <b>../batch/Alignment/align_01_***</b>, <b>df***/goodparticles</b></font>      </li>
        <li><font color="teal">OUTPUT: <b>../batch/Alignment/good-align_01_***</b>, <b>sel_particles***</b></font>   </li>
        <li><font color="teal">The <b>sel_particles***</b> files are essentially equivalent to 
            <b>df***/goodparticles</b>, lacking only the <i>CCROT</i> column. </font>                          </li>
    </ul>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p><b><font size="4"><a name="average">Compute averages</a></font></b> -- 
   also in <b>Reconstruction/</b> directory</p>

<ul>
    <li>select.spi (optional, necessary for display.spi or plotrefviews.spi)
        -- for each defocus-group, separates particles by reference-view                                          </li>
    <ul>
        <li><font color="teal">INPUT: Use <b>good-align_01_***</b> instead of <b>align_01_***</b></font>          </li>
        <li>OUTPUT: <b>df***/select/sel###</b>, <b>df***/how_many</b>, <b>how_many</b>                            </li>
    </ul>

    <li><font color="teal">Skip average.spi -- The equivalent was performed above by viewaverage.spi</font>       </li>
    <li><font color="teal">Skip cchistogram.spi -- The equivalent was performed above by histgoodccc.spi</font>   </li>
    <li><font color="teal">Skip ccthresh.spi  -- The equivalent was performed above by histgoodccc.spi</font>     </li>
    <li><font color="teal">Skip dftotals.spi -- The equivalent was performed above by goodparticlesbydf.spi</font></li>

    <li>plotrefviews.spi, display.spi (optional) -- graphically show distribution of views                        </li>
    <ul>
        <li>INPUT: <b>df***/how_many</b>                                                                          </li>
        <li>OUTPUT: <b>gnuplot_view</b>, <b>display/cndis***</b>                                                  </li>
    </ul>

    <li>bestim.spi (optional) -- truncate <b>seltotal</b> files for overrepresented views                         </li>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p><b><font size="4"><a name="reconstruct">3D reconstruction</a></font></b> -- 
   still in <b>Reconstruction/</b> directory</p>

<ul>
    <li><font color="teal">Compute 3D reconstruction</font>
   
   <ol>
   <li><font color="teal">Run 
      <a href="../batch/Reconstruction/bps-inseries.spi">bps-inseries.spi</a>.</font></li>
   </ol>

    <p><font color="teal">Like alignment, 3D reconstruction is CPU-intensive and benefits by parallelization. 
    Whether you are running the alignment in parallel or in series, edit (but do not run)
    <a href="../batch/Reconstruction/bps-settings.spi">bps-settings.spi</a>. </font>
    
    <li><font color="teal">PARAMETERS: </font>                                                                 </li>
        <ul>
            <li><font color="teal"><i>[bp-method]</i> -- backprojection method: BP CG, BP 32F, or BP RP</font> </li>
            <li><font color="teal"><i>[stk-opt]</i> -- Stack options (<i>e.g.</i>, 0 to read from original location, 
                1 to copy into RAM, or 2 to copy temporarily to disk).</font>                                  </li>
            <li><font color="teal"><i>[max-wait]</i> -- Will wait up to 10 minutes by default before reading a new group's stack, 
               in order to distribute disk I/O.</font>                                                         </li>
        </ul>
    <li><font color="teal">INPUT: <b>dala01_***</b>, <b>../batch/Alignment/align_01_***</b>, 
        <b>sel_particles_***</b> </font>                                                                       </li>
    <li><font color="teal">OUTPUT: <b>df***/{vol01_odd, vol01_even}, df***/docfscmasked, summary-bps</b></font> </li>
        

<p><font color="teal">The following is a brief tree of procedure calls:</font>
<font color="teal"><table border="1" style="background-color:eeeeee">

<tr>
<td valign="top">
<pre>
<a href="../batch/Reconstruction/bps-inseries.spi"><b>bps-inseries</b></a>
    <a href="../batch/Reconstruction/bps-settings.spi">bps-settings</a>
    

    <a href="../batch/Reconstruction/bps-main.spi">bps-main</a>
    
        <a href="../batch/Reconstruction/bps-calcres.spi">bps-calcres</a>
    <a href="../batch/Reconstruction/bps-combine.spi">bps-combine</a>
        <a href="../batch/Reconstruction/bps-calcres.spi">bps-calcres</a>
   </pre>                                                        
</td>

</tr>
</table></font>
</p>

    <li>slices.spi (optional)</li>
    <ul>
        <li>INPUT: <b>df***/vol01_odd</b></li>
        <li>OUTPUT: <b>slices/slice***</b></li>
    </ul>

    <li>plotres.spi </li>
    <ul>
        <li>INPUT: <font color="teal"><b>df***/docfscmasked</b> (change from <b>df***/fscdoc</b>)</font>, 
            <font color="teal"><b>docfscmasked</b> (change from <b>combires</b>)</font>, <b>resolution</b></li>
        <li>OUTPUT: <b>gnuplot_res</b></li>
    </ul>

    <li><font color="teal">Generate a matched-filter profile</font>                                 </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/make_matched.spi">make_matched.spi</a></font></li>
        <li><font color="teal">INPUT: <b>vol01_odd</b>, <b>vol01_even</b> </font>                   </li>
        <li><font color="teal">OUTPUT: <b>docmatched_vol01</b> </font>                              </li>
        <li><font color="teal">Information at spatial frequencies above the cutoff value is 
            considered to be uncorrelated noise, and should be filtered out. 
            The resolution curve itself is used to determine the shape of the filter.
            This concept is described in Huang and Penczek (2004) <i>JSB</i> <b>145</b>: 29-40.</font></li>
    </ul>
    
    <li><font color="teal">Apply the filter profile</font>                                            </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/matchedfilter.spi">matchedfilter.spi</a></font></li>
        <li><font color="teal">INPUT: <b>docmatched_vol01</b>, <b>vol01</b> </font>                   </li>
        <li><font color="teal">OUTPUT: <b>vol01_matched</b> </font>                                   </li>
        <li><font color="teal">Applying the same filter profile to different reconstructions 
            can be used to filter them to the same resolution 
            (provided the filter for the lowest-resolution reconstruction is used).
            </font>                                                                                   </li>
    </ul>
    
    <li><font color="teal">Prepare files for refinement</font>                                        </li>
    <ul>
        <li><font color="teal"><a href="../batch/Reconstruction/consecprepare.spi">consecprepare.spi</a></font></li>
        <li><font color="teal">INPUT: <b>sel_group_cclim</b>, <b>sel_particles_***</b>, 
             <b>data***</b>, <b>dala01_***</b> </font>                                                </li>
        <li><font color="teal">OUTPUT: <b>good-sel_group_cclim</b>, <b>good-sel_particles_***</b>, 
             <b>good-data***</b>, <b>good-dala01_***</b> (optional, see NOTE below) </font>           </li>
        <li><font color="teal">NOTE: In the developmental version of the 
             <a href="../../recon/mr.html">
             main, projection-matching procedure files</a>, the aligned-image stacks 
            (<b>dala01_***</b>) are no longer needed.  
            The default is currently to write the aligned-images stacks, but 
            to save disk space, this output can be skipped by 
            setting the parameter <i>[dala-yn]</i> to 0.
            </font>                                                                                   </li>
        <li><font color="teal">Originally, this procedure file copied the outputs into <b>Refinement/input</b>.
             Now however, the subroutine 
             <a href="../../recon/newprogs/prepare.pam">prepare.pam</a> in 
             <a href="../../recon/refine.html">Refinement</a> does this for you. 
             Left as is, refinement would manipulate the entire stacks, including discarded particles. 
             This could be wasteful, especially if particles sets are further split using classification, for example. 
             So, with this procedure file, only the desired particles will be retained.     <br />
             However, below, you will need to remember to change the input filenames in 
             <a href="../../recon/newprogs/refine_settings.pam">refine_settings.pam</a>
</font></li>
    </ul>

    <li><font color="teal">Skip filt.spi -- The equivalent was performed above by make_matched.spi and matchedfilter.spi</font> </li>

</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p>
<b><font size="4"><a name="refine">Refinement</a></font></b> -- in <b>Refinement/</b>
 directory
</p>

<ul>
    <li><a href="../../recon/refine.html"> Refinement documentation</a>            </li>

    <li><font color="teal">Use the following as inputs in 
         <a href="../../recon/newprogs/refine_settings.pam"> refine_settings.pam</a>,
         as written above by 
         <a href="../batch/Reconstruction/consecprepare.spi">consecprepare.spi</a>   <br />
         <i> (Note the only change from the default is the prefix 
             <b>good-</b> for these files) </i>: </font>                           </li>
         <ul>
              <li><font color="teal"><b> good-sel_group_cclim </b></font>          </li>
              <li><font color="teal"><b> good-sel_particles_*** </b></font>        </li>
              <li><font color="teal"><b> good-data*** </b></font>                  </li>
              <li><font color="teal"><b> good-dala01*** </b> </font>               </li>
              <li><font color="teal"><b> good-align_01_*** </b></font>             </li>
         </ul>
    <li><font color="teal">I recommend using the filtered volume, <b>vol01_matched</b>, 
        instead of <b>vol01</b>, in order to minimize model bias. </font>
    </li>
</ul>

<p><a href="#top">Return to top</a> </p>

<hr />

<p><b><font size="4"><a name="other">Additional procedure files</a></font></b></p>

I have some <a href="misc.htm">miscellaneous procedure files here</a>.

<hr />

<hr />

<p>
<b><font size="4"><a name="mods">Recent modifications:</a></font></b></p>
<ul>

<!--    <li>2012-date -- </li> -->

    <li>2012-07-19 --the following procedure files explicitly create necessary output directories: </li> 
        <ul>
            <li>eman2spider.spi        </li>
            <li>rewindow.spi           </li>
            <li>numberparticles.spi    </li>
        </ul>
    <li>2012-05-23 -- changed <i>X##</i> format registers to named registers for the following procedure files:</li>
        <ul>
            <li>selectbyviewall.spi    </li>
            <li>rewindow.spi           </li>
            <li>recheck.spi            </li>
            <li>goodparticlesbydf.spi  </li>
            <li>eman2spider.spi        </li>
            <li>combinegoodclasses.spi </li>
            <li>classify.spi           </li>
        </ul>
    <li>2012-05-17 -- bps-pubsub.spi and bps-inseries.spi -- replace bps-by-df.spi</li> 
    <li>2012-05-15 -- filtering reconstruction using matched filter</li> 
    <li>2012-05-15 -- apsh-pubsub.spi and apsh-inseries.spi -- replace apshgrp.spi</li> 
    <li>2012-05-01 -- numberparticles.spi -- replaces pnums.spi and listallparticles.spi</li> 
    <li>2012-04-12 -- filterbyview.spi -- added option to not filter </li>
    <li>2012-04-06 -- eman2spider.spi -- added <b>sel_particles***</b> output</li>
    <li>2012-03-15 -- combinegoodclasses.spi -- summary doc file now has the format of old <b>how_many</b> files</li>
    <li>2011-01-14 -- bps-by-df.spi -- computes masked and unmasked FSCs</li>
    <li>2011-01-11 -- regroup.spi -- can quickly test sizes of new defocus groupings</li>
    <li>2011-01-07 -- consecprepare.spi -- new refinement procedure files use different and fewer inputs</li>
    <li>2010-09-02 -- emancoords2spiderdoc.py -- SPIDER and EMAN2 coordinate systems appear to be the same now</li> 
    <li>2009-07-10 -- documented various <a href="docfiles.htm">doc file formats</a></li>
    <li>2009-06-03 -- changed format of <b>Reconstruction/select/sel***</b> files, 
         now same format as <b>Reconstruction/select/prj***/sortsel</b>, for versatility and generality. 
         The following procedure files are affected:</li>
        <ul>
            <li>selectbyviewall.spi                 </li>
            <li>filterbyview.spi                    </li>
            <li>classify.spi                        </li>
            <li>combinedgoodclasses.spi             </li>
            <li>reselect_byview.spi (in <b>VerifyMisc/</b>)</li>
        </ul>
    <li>2009-05-14 -- histgoodccc.spi -- added output histogram of bad particles</li>
    <li>2009-05-14 -- recheck.spi -- added optional step to add or subtract particles after re-screening</li>
    <li>2009-04-14 -- dfgoodapsh.spi -- output now called <b>sel_particles_***</b>, can work without defocus groups</li>
    <li>2009-04-07 -- included backup script <b>backup.sh</b> </li>
    <li>2009-02-26 -- added quick-start guide</li>
    <li>2009-02-26 -- added viewaverage.spi (optional) -- analogous to average.spi</li>
    <li>2008-09-29 -- added <b>mkfilenums.py</b>, <b>shrink.spi</b>, and <b>.montagefromdoc</b> 
                      in <b>Micrographs/</b></li>
    <li>2008-07-02 -- added to <a href="../../../docs/techniques.html">
         SPIDER Techniques</a> page      </li>
    <li>2008-02-01 -- selectbyviewall.spi -- added output <b>stack2particle***</b> 
                      with global particle number,  
        to compensate for a change to <b>sel_particles</b>. The following also 
        changed accordingly:             </li>
        <ul>
            <li>histgoodccc.spi          </li>
            <li>big-goodparticlesbydf.spi</li>
            <li>goodparticlesbydf.spi    </li>
            <li>dfgoodapsh.spi           </li>
        </ul>
    <li>2007-08-22 -- <a href="../tar_archive/archive.htm">archive of tarballs</a> linked to projection-matching tarballs</li>
    <li>2007-08-22 -- changed hard-to-read italic passages to less-hard-to-read <font color="teal">teal</font>.</li>
    <li>2007-01-31 -- significant re-write of procedure files in <a href="#verify">Verification</a> section.<br />
        Changes are <a href="changes20070131.txt">summarized here.</a>                    </li>
    <li>2007-01-23 -- started <a href="../tar_archive/archive.htm">archive</a> of tarballs</li>
    <li>2006-08-29 -- <a href="verifybyview.py">verifybyview.py</a> -- stores prior settings in text file <b>.verifybyview</b></li>
    <li>2006-07-27 -- added <a href="verify.xml">SPIRE configuration file</a> to 
                            <a href="../tar_archive/archive.htm">tarball</a>                                  </li>
    <li>2006-06-27 -- created <a href="../tar_archive/archive.htm">tarball</a> of procedure files</li>
    <li>2006-05-12 -- AP SH version is now the default                                    </li>
    <li>2005-03-03 -- posted documentation on <a href="../VerifyDocs/interface.htm">Python/Tkinter interface</a></li>
    <li>2005-01-21 -- changed extensions from <b>.bat</b> to <b>.spi</b>                  </li>
</ul>

<p><a href="#top">Return to top</a> </p>

</body>
</html>
