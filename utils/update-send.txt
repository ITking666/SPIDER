
Outline of how to create new external spider-web  release

Update local SPIDER executables
   cd /usr8/spider/test
   alias make "/bin/sh Makefile $1"
   spi ; make all
   spi ; make new

Test local SPIDER executables
   cd /usr8/spider/test
   clean ; spider tst @testops
   clean ; spider tst @testinfra

Update internal website pages
   cd /usr8/spider/utils  ; localwwwupdate.csh

Update reconstruction procedure tar archives 
   cd /usr8/spider/docs/techs/recon        ; spr2tar.csh        
   cd /usr8/spider/docs/techs/recon1/Utils ; spr2tar.csh
 
Update local python tools (only necessary if changed)
   cd /usr8/spider/utils                   ; create-tools-dist.csh          

Update external Spider's Web (only necessary if changed)
   cd /usr8/web/tosend                     ; tosend.sh

Update external SPIDER files 
   cd /usr8/spider/utils                   ; tosend.csh

Update external  FFTW files (only necessary if changed)
   cd /usr8/spider/utils                   ; send-fftw.sh 

Update external SPIDER executables with make in src dir
   cd /usr8/send/spider/src                ; make all

Test external SPIDER executables e.g.
   cd /usr8/spider/test ; clean ; /usr8/send/spider/bin/spider_linux_mp_intel64 tst @testops

Put new SPIDER release label in external bin dir
   touch /usr8/send/spider/bin/CONTAINS_SPIDER_RELEASE_22.09

Remove any unused or un-necessary large file from SPIDER release  
e.g. extra tar archives, unzipped files,etc.   Use following to search for them:
   cd /usr8/send/spider
   du -ak | sort -n
   du -ak | grep '\.tar'
   du -ak | grep Attic

Archive and compress the distribution
   cd /usr8/send 
   tar  cvf - README spider web | gzip > spiderweb.22.09.tar.gz

Define environment variable for export SPIDER website
   set wwwdir = spider-stage:/export/apache/vhosts/spider.wadsworth.org/htdocs/spider_doc/spider   

Put new SPIDER release on external web site
   scp -p /usr8/send/spiderweb.22.09.tar.gz  $wwwdir/download

Edit SPIDER download page with link for new release
   edit /usr8/spider/docs/spi-download.html
   scp -p /usr8/spider/docs/spi-download.html  $wwwdir/docs

Update external website pages
   cd /usr8/spider/utils  ; wwwupdate.csh
