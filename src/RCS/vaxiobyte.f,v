head	1.3;
access;
symbols
	best-code:1.3
	x-named-regs:1.3
	x:1.3
	v13-00:1.3
	prec_CA:1.2
	noindx:1.2
	Bproc:1.2
	oct21:1.2
	last77:1.2;
locks; strict;
comment	@c @;


1.3
date	2005.01.03.17.01.41;	author leith;	state dead;
branches;
next	1.2;

1.2
date	94.05.13.14.12.24;	author leith;	state Exp;
branches;
next	1.1;

1.1
date	94.05.13.12.53.41;	author leith;	state Exp;
branches;
next	;


desc
@unix specific source code with preprocessor lines
@


1.3
log
@oblosete to rejects
@
text
@ 
 
#ifdef SP_UNIX 
 
C   THIS ROUTINE SPECIFIC TO VAX SPIDER AND IS NOT 
C       USED AT UNIX SITES
 
       SUBROUTINE vaxiobyte
 
       COMMON /UNITS/LUNC,NIN,NOUT
 
       WRITE(NOUT,*) 'DUMMY CALL: vaxiobyte'
       RETURN
       END
 
#else
 
	SUBROUTINE OBYTE(BUF,N)
	COMMON /VIOBCHAN/ TTCHAN
	INTEGER*4 TTCHAN,RSLLEN
	BYTE BUF(200)
	INTEGER*4 IOCODE,BUFADR,STATUS,CC/0/,SYS$QIOW,SYS$TRNLOG
	INTEGER*4 SYS$ASSIGN
	CHARACTER*4 RSLBUF
	EXTERNAL IO$_WRITEVBLK
	DATA NRUN/0/
	DATA RSLBUF/'TXA5'/
C-- GET TERMINAL NAME  INTO RSLBUF
C	STATUS=SYS$TRNLOG('SYS$OUTPUT',RSLLEN,RSLBUF,,,)
C	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
	IF(NRUN.GT.0)GOTO 20
C	WRITE(5,*)RSLBUF
C	STATUS=SYS$ASSIGN(RSLBUF,TTCHAN,,)
C	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
C
20	CONTINUE
	NRUN=1
	IOCODE=%LOC(IO$_WRITEVBLK)
	BUFADR=%LOC(BUF)
C
	STATUS=SYS$QIOW(,%VAL(TTCHAN),%VAL(IOCODE),,,,%VAL(BUFADR),
	1 %VAL(N),,%VAL(CC),,)
	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
	RETURN
	END
	SUBROUTINE IBYTE(BUF,N)
	COMMON /VIOBCHAN/ TTCHAN
	INTEGER*4 TTCHAN,RSLLEN
	BYTE BUF(1)
	INTEGER*4 IOCODE,BUFADR,STATUS,CC/0/,SYS$QIOW,SYS$TRNLOG
	INTEGER*4 SYS$ASSIGN
	CHARACTER*4 RSLBUF
	EXTERNAL IO$_READVBLK
	DATA NRUN/0/
	DATA RSLBUF/'TXA5'/
C-- GET TERMINAL NAME  INTO RSLBUF
C	STATUS=SYS$TRNLOG('SYS$OUTPUT',RSLLEN,RSLBUF,,,)
C	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
	IF(NRUN.GT.0)GOTO 20
C	STATUS=SYS$ASSIGN(RSLBUF,TTCHAN,,)
C	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
C
20	CONTINUE
	NRUN=1
	IOCODE=%LOC(IO$_READVBLK)
	BUFADR=%LOC(BUF)
C
	STATUS=SYS$QIOW(,%VAL(TTCHAN),%VAL(IOCODE),,,,%VAL(BUFADR),
	1 %VAL(N),,%VAL(CC),,)
	IF(.NOT.STATUS)CALL LIB$STOP(%VAL(STATUS))
	RETURN
	END
 
#endif
 
@


1.2
log
@cpp_lines_added
@
text
@@


1.1
log
@Initial revision
@
text
@d1 17
d73 3
@
