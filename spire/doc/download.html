<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>SPIRE - Installation</title>
  <link rel='stylesheet' href='style.css' type='text/css' />
</head>

<body>

<table class="navi" cellpadding=8>
  <tr> 
     <td> Back: <a href="index.html#Command"       >  Running Spire</a></td>
     <td align="center"> Home: <a href="index.html">  Table of Contents</a></td>
     <td align="right">  Next: <a href="project.html">Spire Projects</a></td>
  </tr>
</table>

<p />

<h2 align="center">Installation</h2>

<p />
<p /><hr><p />


Spire is written in Python, and uses the Tk/Tkinter graphics library. 
      In addition, it requires some <a href="#Require">other Python packages</a>. 

<p /> <hr> <p />


<p> <a name="Install"></a><h3>Full install of Spire for Linux</h3> </p>
    This full installation comes with its own version of Python and all the required packages. </p>
<p />

<ol>

<a name="Downloads"></a> 

<li><p> Spire is    
  <a href="http://www.wadsworth.org/spider_doc/spider/docs/spi-register.html">
          distributed as part of the SPIDER package</a>.
  You must have already <a href="../../docs/installation.html">installed SPIDER and Jweb</a>.<p />

<li>Access your Spire directory and extract the archived files:</p>  
    <p>
    &nbsp;&nbsp;&nbsp; <code>cd spider/spire</code> <br />
    &nbsp;&nbsp;&nbsp; <code>tar -xvf spire_linux-1.5.5.tar </code>  
    <p /> </li>

<li><p>Access the newly created directory and run the shell script: <code>./install.sh</code> 
    (be sure it starts with dot-slash!):                               </p>
    <p>
    &nbsp;&nbsp;&nbsp; <code>cd spider/spire/spire_linux-1.5.5</code>  <br />
    &nbsp;&nbsp;&nbsp; <code>./install.sh</code>                       <p />
</li>

<li> <p>If the installation finds all of the necessary system requirements,
     it will ask for the correct command to run SPIDER and JWeb on
     your system, and to replace any current installation,  e.g.:        </p>

     <p> <code> Is this the correct command to run spider?: /usr/spider/bin/spider </code> <br/>
     Just follow its response instructions. </p>   </li>

<li> <p>The installation may ask to add:  <i><b>spire-1.5.5/bin</b></i> to your 'path'. 
     The bin directory contains executables for use with Spire and graphical tools.  If 
     you do not want the script to edit your startup file you can say 'No' and do it 
     yourself.</p>   </li>

<li> <p>If you want to use Spire with an external database, some 
     <a href="database.html">additional configuration</a> is required.  
     This is usually not necessary.</p> </li>

<li> <p>The installation will create various sub-directories under: <b>spire_linux-1.5.5</b>:   <p /> 

   <table class="outs" border="1" >
     <tr> <th> Subdirectory</th>      <th> Contents</th>  </tr>

     <tr> <td><b>bin</b></td>        <td><b>Spire</b>, and various graphical tools 
                                        (<b>qview, montage, etc.)  </td> </tr>

     <tr> <td><b>batchfiles</b></td> <td>Procedure files</td></tr>

     <tr> <td><b>config</b>          </td> <td><a href="config.html">Configuration files</a> </td></tr>
   </table> </li>

</ol>

<br />
<p /><hr><p />
<p /><hr><p />
<br />

<a name="Setup"><b>Notes about Spire's installation</b>

<p> The shell script: <code>install.sh</code>  calls: <code>setup.py</code> which in turn 
    calls <code>testinstall.py</code>, which checks if you all the 
    required packages. Then <code>setup</code> tries to find the commands that run SPIDER 
    and Jweb on your system, and writes these commands to a file called: <i>Spire/LocalVars.py</i>
<p />

<p> <i>Spire/LocalVars.py</i> will have lines that look something like this:<br />
<span class="nobreak"<code class="small">
  &nbsp;&nbsp; spidercmd = '/usr/local/bin/spider'<br />
  &nbsp;&nbsp; jwebcmd &nbsp;  = 'java -Xmx300m -Djava.util.prefs.syncInterval=2000000 StartWeb SPIDUI &'
</code></span>
<p />

<p>Then setup tries to copy the Spire directory to the new local Python site-packages directory, 
  which will be: 
  <span class="nobreak"<code class="small"><i>spire_linux-1.5.5/lib/python2.5/site-packages</i></b></code></span>
  if you are using the  full install. <br />

  If, instead  you are using your own python version, you may need a system administrator or someone 
  who has write permission for local Python site-packages directory to install Spire there.
<p />

<p>In addition to <b>Spire</b>, <code>setup.py</code> also installs a <b>SPIDER</b> 
   directory under site-packages. The SPIDER library enables you to 
   <a href="../../docs/python/spipylib/index.html">write Python programs to work with SPIDER files</a>  <p />

<p>Finally, <code>setup</code> will display a command to add 
   <b>spire-1.5.5/bin</b> to your path. The bin directory contains useful 
   utilites, including numerous graphical tools, which are described at the 
   <a href="guitools/index.html">guitools page</a>.                                <br><br>
   NB: Run the graphical tool programs WITHOUT THE .PY EXTENSION, e.g., 'qview', not 'qview.py' <p />
</li>

<a name="Require"></a>

<p />

<p> Additional packages used by <b>Spire</b>. In the standard full installation these packages
    are installed together with Spire: </p>

<p>
<table border="1" cellpadding="4" cellspacing="4">

  <tr><td> Python2.3 (or later)</td>  
      <td><a href="http://www.python.org/download">        www.python.org/download        </a></td></tr>

  <tr><td> Tcl/Tk8.4  (or later)</td>
      <td><a href="http://www.tcl.tk/software/tcltk">      www.tcl.tk/software/tcltk      </a></td></tr>

  <tr><td> BLT (a Tcl plotting package) </td> 
      <td><a href="http://sourceforge.net/projects/blt">   sourceforge.net/projects/blt   </a></td></tr>

  <tr><td> Python megawidgets (Pmw) </td> 
      <td><a href="http://sourceforge.net/projects/pmw">   sourceforge.net/projects/pmw   </a></td></tr>

  <tr><td> Python Imaging Library (PIL)</td> 
      <td><a href="http://www.pythonware.com/products/pil">www.pythonware.com/products/pil</a></td></tr>

  <tr><td>Numpy (Python Numeric) </td>  
      <td><a href="http://sourceforge.net/projects/numpy"> sourceforge.net/projects/numpy </a></td></tr>

  <tr> <td> Gnuplot.py </td>  
       <td><a href="http://gnuplot-py.sourceforge.net">    gnuplot-py.sourceforge.net     </a></td></tr>

</table>

<p> <a href="packages.html">Instructions for installing these packages yourself</a>. </p>

</ul>

<p />



<!-- -------------------------------------------------------------- ->
<p>
  <img src="pics/spiderline.gif"><br>
  <a href="index.html">  <img src="pics/left_button.gif"></a>
  <a href="index.html">  <img src="pics/up_button.gif"></a>
  <a href="project.html"><img src="pics/right_button.gif"></a>
</p>

</body>
</html>
